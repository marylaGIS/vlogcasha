<!DOCTYPE html>
<html lang="pl">
<head>
	<base target="_top">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Indie 2022 - Vlog Casha</title>

	<link rel="shortcut icon" type="image/x-icon" href="https://yt3.googleusercontent.com/ytc/AGIKgqNjMTErUO9AYJmIG2fnKmB1XgBBJ3iNgBR5S3Nhig=s176-c-k-c0x00ffffff-no-rj" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	
	<link rel="stylesheet" href="leaflet-sidepanel.css" />
	<script src="leaflet-sidepanel.min.js"></script>
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	
	<link rel="stylesheet" href="style.css" />
	
	<script src="indie.geojson"></script>

	<style>
		html, body, #map {
			height: 100%;
			width: 100%;
			margin: 0;
		}
	</style>
</head>

<body>

	<div id="map">
	
		<div class="cash-socials">
			<strong>Vlog Casha</strong>
			<a href="https://www.youtube.com/@vlogcasha" target="_blank"><i class="fa fa-youtube"></i></a>
			<a href="https://www.facebook.com/vlogcasha" target="_blank"><i class="fa fa-facebook-official"></i></a>
			<a href="https://www.instagram.com/vlogcasha/" target="_blank"><i class="fa fa-instagram"></i></a>
			<a href="https://patronite.pl/Vlogcasha" target="_blank"><i class="fa fa-fire"></i></a>
		</div>
		
		<div id="sidepanel" class="sidepanel" aria-label="side panel" aria-hidden="false">
			<div class="sidepanel-inner-wrapper">
				<nav class="sidepanel-tabs-wrapper" aria-label="sidepanel tab navigation">
				<ul class="sidepanel-tabs" id="sidepanel-tabs">
					<li class="sidepanel-tab">
						<a href="#" class="sidebar-tab-link" role="tab" data-tab-link="tab-1">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
								<path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
							</svg>
						</a>
					</li>
				</ul>
				</nav>
				<div class="sidepanel-content-wrapper">
					<div class="sidepanel-content" id="sidepanel-content">
					</div>
						<div class="sidepanel-tab-content" data-tab-content="tab-1" id="panel-vlogs-attractions">
							<h3>Lista vlog√≥w i odwiedzonych miejsc</h3>
						</div>
				</div>
			</div>
			<div class="sidepanel-toggle-container">
				<button class="sidepanel-toggle-button" type="button" aria-label="toggle side panel"></button>
			</div>
		</div>
	
	</div>

<script>

	var map = L.map('map').setView([25.45319, 76.90429], 6);

	var OSM = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>' 
		+ ' | <a href="https:\\marylagis.github.io">marylaGIS</a> <a href="https://www.linkedin.com/in/marylajez/" target="_blank"><i class="fa fa-linkedin"></i></a>'
	}).addTo(map);

	
	map.on('click', function (e) {
		console.log(e.latlng.lng.toFixed(5) + ',', e.latlng.lat.toFixed(5));
	});
	
	
	function style_points() {
		return {
			radius: 5.0,
			color: 'black',
			weight: 2,
			opacity: 0.8,
			fillColor: 'white',
			fillOpacity: 1.0
		}
	};
	
	function onEachFeature(feature, layer) {
		layer.bindPopup("<strong>YouTube: </strong>" + 
		"<a href=" + feature.properties["link"] + 
		" target='_blank'>vlog " + feature.properties["vlog_nr"] + "</a>" + 
		"<br>" + "<strong>Obiekt: </strong>" + 
		feature.properties["obiekt"] + "<br>" + "<strong>Data: </strong>" + 
		feature.properties["data"]);
	};
	
	var line_points = [];
	
	var points = L.geoJSON(indie2022points, {
		onEachFeature: onEachFeature,
		pointToLayer: function (feature, latlng) {
			line_points.push(latlng);
			return L.circleMarker(latlng, style_points(feature))
		}
	})//.addTo(map);
	
	var lines = L.layerGroup().addTo(map);
	
	for (let i=0; i<=102; i++) {
		let r=240+i/3; let g=i*-1.5+200; let b=i*-2+100;
		c = 'rgb(' + r +','+g+','+b+')'
		var line = L.polyline([line_points[i], line_points[i+1]], {
			color: c
		}).bindPopup((i+1).toString())
		lines.addLayer(line);
	};
	
	
	points.addTo(map);  // last to add, first to see
	
	var baseLayers = {
		"OpenStreetMap": OSM
	};
	
	var overlays = {
		"punkty": points,
		"linie": lines
	};
	
	L.control.layers(baseLayers, overlays).addTo(map);
	
	
	const sidepanel = L.control.sidepanel('sidepanel', {
		tabsPosition: 'left',
		startTab: 'tab-1'
	}).addTo(map);
	
	for (let i=1; i<=19; i++) {
		const ul = document.createElement("ul");
		ul.setAttribute("id", "list-vlogs-attractions");
		
		const li = document.createElement("li");
		li.setAttribute("class", "li-vlog-attractions");
		
		const btn = document.createElement("button");
		btn.setAttribute("id", "btn-"+i);
		btn.innerText = "VLOG " + i;
		
		li.appendChild(btn);
				
		document.getElementById("panel-vlogs-attractions").appendChild(li);
	};

</script>

</body>
</html>
